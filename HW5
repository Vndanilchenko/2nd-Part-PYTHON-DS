# ДОМАШНЯЯ РАБОТА 5
#Данильченко Вадим

#Задание 1: создание ndarray с обратным порядком значений
"""
Создайте numpy array с элементами от числа N до 0 (например, для N = 10 это будет array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])).
""

#решение 1
import numpy as np
f'введите количество элементов'
n=int(input())
print('результат: {}'.format(np.arange(n-1, -1,-1)))

#решение 2
import numpy as np
f'введите количество элементов'
n=int(input())
a=np.arange(0, n)[::-1]
print('результат: {}'.format(a))


#Задание 2: диагональная матрица
"""
Создайте диагональную матрицу с элементами от N до 0. Посчитайте сумму ее значений на диагонали.
"""

#решение 1: матрица 10х10 при n=10, начинается с 10 и заканчивается 1 - левую границу берем, правую нет
f'введите количество элементов'
n=int(input())
matrix=np.diag(np.arange(n,0,-1))
print('сумма: {}'.format(sum(sum(matrix))))

#решение 2
f'введите количество элементов'
n=int(input())
matrix=np.diag(np.arange(n,0,-1))
summ=0
for line in matrix:
    for j in line:
        summ+=j
print('сумма: {}'.format(summ))


#Задание 3: группировка и отображение максимального результата по условию
"""
Скачайте с сайта https://grouplens.org/datasets/movielens/ датасет любого размера. 
Определите какому фильму было выставлено больше всего оценок 5.0.
"""

#Решение
import pandas as pd
ds=pd.read_csv('ratings.csv', 'r', delimiter=',')
ds[ds['rating']==5.0]['movieId'].value_counts().head(1)


#Задание 4: группировка и отображение максимального результата по условию
"""
По данным файла power.csv посчитайте суммарное потребление стран Прибалтики (Латвия, Литва и Эстония) 
категорий 4, 12 и 21 за период с 2005 по 2010 года. 
Не учитывайте в расчетах отрицательные значения quantity.
"""

#Решение
summ=0
ds=pd.read_csv('power.csv', 'r', delimiter=',')
ds2=ds[(ds['year']>=2005)&(ds['year']<=2010)&(ds['quantity']>0)]
ds3=ds2[ds2.category.isin([4,12,21])]
summ=ds3[ds3.country.str.contains('|'.join(['Lat','Lit','Est']))]['quantity'].sum()
print('суммарное потребление: {}'.format(summ))


#Задание 5: решение СЛУ
"""
Решите систему уравнений:
4x + 2y + z = 4
x + 3y = 12
5y + 4z = -3
"""

#Решение
from numpy import linalg
a=np.array([[4,2,1],[1,3,0],[0,5,4]])
b=np.array([4,12,-3])
linalg.solve(a,b)
